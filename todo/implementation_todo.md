# 圆桌会议系统实现TODO列表

## 1. 关键词提取与KJ法总结
- [x] **1.1 完善智能体关键词提取功能**
  - [x] 1.1.1 确保每个智能体在讲故事后能提取关键词
  - [x] 1.1.2 优化关键词提取提示词，确保质量和相关性
  - [x] 1.1.3 实现关键词数量控制（每个智能体5-10个关键词）

- [x] **1.2 实现关键词汇总功能**
  - [x] 1.2.1 收集所有智能体提取的关键词
  - [x] 1.2.2 去除重复关键词
  - [x] 1.2.3 格式化汇总结果

- [x] **1.3 实现KJ法关键词分类**
  - [x] 1.3.1 设计调用大模型进行KJ法分类的提示词
  - [x] 1.3.2 实现KJ法分类API调用
  - [x] 1.3.3 解析和格式化KJ法分类结果

- [x] **1.4 实现关键词可视化输出**
  - [x] 1.4.1 按照提供的绿色文字列表格式实现关键词输出
  - [x] 1.4.2 确保终端显示格式正确（颜色、缩进等）
  - [x] 1.4.3 实现关键词保存功能

## 2. 角色扮演与用户交互
- [x] **2.1 完善角色扮演功能**
  - [x] 2.1.1 优化角色转换机制，确保记忆连续性
  - [x] 2.1.2 实现剪纸研讨会场景设置
  - [x] 2.1.3 确保智能体能基于新角色进行讨论

- [x] **2.2 实现用户输入接口**
  - [x] 2.2.1 在角色扮演阶段后添加用户输入提示词的接口
  - [x] 2.2.2 实现提示词验证和处理
  - [x] 2.2.3 确保用户输入能正确传递到下一阶段

- [x] **2.3 实现设计卡牌生成**
  - [x] 2.3.1 完善设计卡牌生成功能
  - [x] 2.3.2 确保设计卡牌包含必要的设计元素
  - [x] 2.3.3 实现设计卡牌的格式化输出和保存

## 3. 图像生成功能
- [x] **3.1 集成豆包生图API**
  - [x] 3.1.1 研究豆包生图API文档
  - [x] 3.1.2 实现API认证和调用
  - [x] 3.1.3 处理API响应和错误

- [x] **3.2 实现文生图功能**
  - [x] 3.2.1 设计文生图提示词处理逻辑
  - [x] 3.2.2 实现提示词优化和转换
  - [x] 3.2.3 调用API生成图像并保存

- [x] **3.3 实现图生图功能**
  - [x] 3.3.1 添加用户上传参考图片的接口
  - [x] 3.3.2 实现图片处理和转换
  - [x] 3.3.3 结合提示词和参考图片调用API生成新图像

- [x] **3.4 实现图像展示和保存**
  - [x] 3.4.1 设计图像展示界面
  - [x] 3.4.2 实现图像保存功能
  - [x] 3.4.3 确保图像文件命名和组织合理

## 4. 系统集成与优化
- [ ] **4.1 完善命令行界面**
  - [ ] 4.1.1 优化用户交互流程
  - [ ] 4.1.2 添加清晰的提示和指引
  - [ ] 4.1.3 实现进度显示和状态反馈

- [ ] **4.2 实现错误处理和恢复**
  - [ ] 4.2.1 添加API调用错误处理
  - [ ] 4.2.2 实现会话状态保存和恢复
  - [ ] 4.2.3 添加用户输入验证和错误提示

- [ ] **4.3 优化性能和资源使用**
  - [ ] 4.3.1 优化API调用频率和并发
  - [ ] 4.3.2 实现缓存机制减少重复调用
  - [ ] 4.3.3 优化内存使用和资源释放

- [ ] **4.4 完善日志和调试功能**
  - [ ] 4.4.1 添加详细的日志记录
  - [ ] 4.4.2 实现调试模式和信息输出
  - [ ] 4.4.3 添加系统状态监控

## 5. 测试与文档
- [ ] **5.1 编写单元测试**
  - [ ] 5.1.1 为关键功能编写测试用例
  - [ ] 5.1.2 实现自动化测试脚本
  - [ ] 5.1.3 确保测试覆盖主要功能点

- [ ] **5.2 进行集成测试**
  - [ ] 5.2.1 测试完整工作流程
  - [ ] 5.2.2 验证各模块间的交互
  - [ ] 5.2.3 测试边界条件和异常情况

- [ ] **5.3 更新项目文档**
  - [ ] 5.3.1 更新README和安装指南
  - [ ] 5.3.2 编写用户使用手册
  - [ ] 5.3.3 完善API文档和代码注释

- [ ] **5.4 创建示例和演示**
  - [ ] 5.4.1 准备示例输入和预期输出
  - [ ] 5.4.2 创建演示脚本
  - [ ] 5.4.3 录制使用演示视频

## 优先级建议
1. **高优先级**：关键词提取与KJ法总结、角色扮演与用户交互
2. **中优先级**：图像生成功能、系统集成与优化
3. **低优先级**：测试与文档

## 进度跟踪
- 开始日期：2024-07-10
- 预计完成日期：2024-08-10
- 当前状态：进行中
- 已完成任务：
  - 关键词提取与KJ法总结（1.1-1.4）
  - 角色扮演与用户交互（2.1-2.3）
  - 图像生成功能（3.1-3.4）
- 下一步任务：系统集成与优化（4.1-4.3）

## 注意事项
1. 完成一个任务后，将对应的复选框从 `[ ]` 更改为 `[x]`
2. 定期更新进度跟踪信息
3. 遇到问题及时记录并解决
4. 优先完成高优先级任务
