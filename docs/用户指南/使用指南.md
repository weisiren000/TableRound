# 圆桌会议系统使用指南

## 简介

圆桌会议是一个多智能体交互系统，支持多种AI模型，实现智能体之间的对话、讨论、关键词提取和角色扮演等功能。系统包含6个不同角色的智能体：1个手工艺人、3个消费者、1个制造商人和1个设计师，他们可以围绕特定主题进行讨论，提取关键词，并进行角色转换。

## 安装与配置

### 系统要求

- Python 3.8+
- 支持的操作系统：Windows、macOS、Linux

### 安装步骤

1. 克隆仓库
```bash
git clone https://github.com/yourusername/tableround.git
cd tableround
```

2. 安装依赖
```bash
pip install -r requirements.txt
```

3. 创建必要的目录
```bash
mkdir -p data/memories data/images data/keywords logs
```

4. 配置API密钥
编辑 `.env` 文件，填入你的API密钥：
```
OPENAI_API_KEY=your_openai_api_key
GOOGLE_API_KEY=your_google_api_key
ANTHROPIC_API_KEY=your_anthropic_api_key
DEEPSEEK_API_KEY=your_deepseek_api_key
OPENROUTER_API_KEY=your_openrouter_api_key
```

## 使用方法

### 命令行界面

1. 启动命令行界面
```bash
python src/main.py
```

2. 选择操作
   - 开始新对话：输入讨论主题，智能体将围绕该主题进行讨论
   - 处理图片：上传图片，智能体将根据图片讲故事并提取关键词
   - 设计剪纸文创产品：输入关键词，智能体将设计剪纸文创产品

### Web界面

1. 启动Web界面
```bash
python src/main.py --mode web
```

2. 打开浏览器，访问 `http://127.0.0.1:8000`

3. 使用Web界面
   - 开始对话：输入讨论主题，点击"开始对话"按钮
   - 角色转换：输入关键词，点击"开始角色转换"按钮
   - 处理图片：上传图片，点击"处理图片"按钮
   - 设计剪纸：输入关键词，点击"设计剪纸"按钮

## 功能说明

### 对话流程

1. **智能体自我介绍**：每个智能体会简短介绍自己（300字以内）
2. **主题讨论**：智能体围绕用户输入的主题进行讨论
3. **关键词提取**：每个智能体从讨论中提取5-10个关键词
4. **黑箱投票**：智能体对所有关键词进行投票，选出最符合主题的关键词
5. **等待用户输入**：用户输入最终关键词，进入下一阶段
6. **角色转换**：智能体随机转换角色，继续讨论
7. **再次提取关键词和投票**：转换角色后的智能体再次提取关键词并投票

### 图片处理

1. **上传图片**：用户上传一张图片
2. **智能体讲故事**：每个智能体根据图片讲一个故事，并提取关键词
3. **关键词汇总**：系统使用KJ法对所有关键词进行分类和汇总

### 剪纸设计

1. **输入关键词**：用户输入关键词
2. **设计方案**：智能体根据关键词设计剪纸文创产品
3. **方案展示**：系统展示各智能体的设计方案

## 智能体介绍

### 手工艺人
- 专注于传统工艺和制作技巧
- 熟悉各种材料的特性和加工方法
- 关注作品的质量和工艺的传承

### 消费者
- 关注产品的使用体验和价值
- 代表市场上的普通用户
- 关心产品的实用性、美观性、价格和耐用性

### 制造商人
- 关注生产可行性和成本
- 了解大规模生产的工艺流程和限制
- 关注材料成本、生产效率和质量控制

### 设计师
- 关注美学和创新设计
- 擅长将创意转化为具体的设计方案
- 注重产品的视觉表达和用户体验

## 常见问题

### Q: 如何更换默认模型？
A: 编辑 `.env` 文件，修改 `DEFAULT_MODEL_PROVIDER` 和 `DEFAULT_MODEL` 参数。

### Q: 系统支持哪些API提供商？
A: 系统支持OpenAI、Google、Anthropic、DeepSeek和OpenRouter等API提供商。

### Q: 如何添加新的智能体？
A: 目前系统固定为6个智能体（1个手工艺人、3个消费者、1个制造商人、1个设计师）。如需修改，请编辑 `src/config/settings.py` 文件中的 `agent_counts` 参数。

### Q: 如何处理API请求失败？
A: 系统会自动重试API请求，如果仍然失败，将显示错误信息。请检查API密钥是否正确，以及网络连接是否正常。

## 高级配置

### 自定义提示词模板

提示词模板位于 `src/config/prompts.py` 文件中，你可以根据需要修改提示词模板。

### 自定义模型参数

模型参数位于 `src/config/models.py` 文件中，你可以根据需要修改模型参数，如温度、最大令牌数等。

### 自定义对话顺序

对话顺序位于 `src/config/settings.py` 文件中的 `conversation_order` 参数，你可以根据需要修改对话顺序。

## 联系与支持

如有任何问题或建议，请通过以下方式联系我们：

- 电子邮件：your.email@example.com
- GitHub Issues：[https://github.com/yourusername/tableround/issues](https://github.com/yourusername/tableround/issues)
